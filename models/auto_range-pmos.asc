Version 4
SHEET 1 2772 1272
WIRE 1168 -448 1168 -512
WIRE 1328 -448 1328 -512
WIRE 1488 -448 1488 -512
WIRE -304 -320 -304 -512
WIRE 464 -320 -304 -320
WIRE 944 -320 944 -512
WIRE 944 -320 544 -320
WIRE 1168 -304 1168 -368
WIRE 1328 -304 1328 -368
WIRE 1488 -304 1488 -368
WIRE 1904 -208 1904 -272
WIRE 2432 -208 2432 -272
WIRE 1872 -192 1792 -192
WIRE 2400 -192 2352 -192
WIRE 1552 -176 1456 -176
WIRE 2112 -176 1936 -176
WIRE 2624 -176 2464 -176
WIRE 1872 -160 1840 -160
WIRE 2400 -160 2352 -160
WIRE 1392 -144 1168 -144
WIRE 1552 -144 1456 -144
WIRE 1264 -112 1216 -112
WIRE 1392 -112 1264 -112
WIRE 1536 -112 1456 -112
WIRE 1568 -112 1536 -112
WIRE 1904 -96 1904 -144
WIRE 2432 -96 2432 -144
WIRE -304 -64 -304 -320
WIRE -16 -64 -304 -64
WIRE 208 -64 -16 -64
WIRE 464 -64 304 -64
WIRE 944 -64 944 -320
WIRE 944 -64 544 -64
WIRE 1536 -64 1536 -112
WIRE 1840 -64 1840 -160
WIRE 1840 -64 1536 -64
WIRE 2352 -64 2352 -160
WIRE 2352 -64 1840 -64
WIRE 1264 -16 1264 -48
WIRE -16 32 -16 -64
WIRE 16 32 -16 32
WIRE 224 32 224 -16
WIRE 224 32 112 32
WIRE 96 96 96 80
WIRE 224 96 224 32
WIRE 96 192 96 176
WIRE 224 240 224 176
WIRE -304 336 -304 -64
WIRE 16 336 -304 336
WIRE 224 336 16 336
WIRE 464 336 320 336
WIRE 944 336 944 -64
WIRE 944 336 544 336
WIRE 16 448 16 336
WIRE 48 448 16 448
WIRE 240 448 240 384
WIRE 240 448 144 448
WIRE 128 512 128 496
WIRE 2208 512 2096 512
WIRE -304 528 -304 336
WIRE 1568 528 1456 528
WIRE 1984 528 1952 528
WIRE 240 544 240 448
WIRE 944 544 944 336
WIRE 1344 544 1280 544
WIRE 2160 544 2096 544
WIRE 1520 560 1456 560
WIRE 1920 560 1872 560
WIRE 1984 560 1920 560
WIRE 1344 576 1312 576
WIRE 2192 576 2096 576
WIRE 1552 592 1456 592
WIRE 128 608 128 592
WIRE 128 624 128 608
WIRE -304 656 -304 608
WIRE 240 656 240 624
WIRE 944 656 944 624
WIRE 2208 720 2096 720
WIRE 1312 736 1312 576
WIRE 1312 736 1120 736
WIRE 1344 736 1312 736
WIRE 1568 736 1456 736
WIRE 2160 752 2160 544
WIRE 2160 752 2096 752
WIRE 1280 768 1280 544
WIRE 1344 768 1280 768
WIRE 1520 768 1520 560
WIRE 1520 768 1456 768
WIRE 1984 768 1872 768
WIRE 2192 784 2192 576
WIRE 2192 784 2096 784
WIRE 1344 800 1248 800
WIRE 1552 800 1552 592
WIRE 1552 800 1456 800
WIRE 2128 944 2096 944
WIRE 1488 960 1456 960
WIRE 1584 960 1488 960
WIRE 1984 960 1792 960
WIRE 1344 976 1264 976
WIRE 2160 976 2160 752
WIRE 2160 976 2096 976
WIRE 2208 976 2160 976
WIRE 1520 992 1520 768
WIRE 1520 992 1456 992
WIRE 1584 992 1520 992
WIRE 1952 992 1952 528
WIRE 1984 992 1952 992
WIRE 1312 1008 1264 1008
WIRE 1344 1008 1312 1008
WIRE 2192 1008 2192 784
WIRE 2192 1008 2096 1008
WIRE 2208 1008 2192 1008
WIRE 1552 1024 1552 800
WIRE 1552 1024 1456 1024
WIRE 1584 1024 1552 1024
WIRE 1920 1072 1920 560
WIRE 2128 1072 2128 944
WIRE 2128 1072 1920 1072
WIRE 1488 1136 1488 960
WIRE 1488 1136 1456 1136
WIRE 1344 1152 1264 1152
WIRE 1520 1168 1520 992
WIRE 1520 1168 1456 1168
WIRE 1312 1184 1312 1008
WIRE 1344 1184 1312 1184
WIRE 1552 1200 1552 1024
WIRE 1552 1200 1456 1200
FLAG 1168 -304 0
FLAG 1168 -144 0
FLAG 1264 -16 0
FLAG -304 -512 ADin1
IOPIN -304 -512 Out
FLAG 944 -512 ADin2
IOPIN 944 -512 Out
FLAG 1552 -176 ADin1
IOPIN 1552 -176 In
FLAG 1552 -144 ADin2
IOPIN 1552 -144 In
FLAG 1168 -512 V3.3
IOPIN 1168 -512 Out
FLAG 1216 -112 V3.3
IOPIN 1216 -112 In
FLAG 1568 -112 ADout
IOPIN 1568 -112 Out
FLAG 944 656 0
FLAG 240 656 0
FLAG 224 240 0
FLAG -304 656 0
FLAG 1328 -512 Vhref
IOPIN 1328 -512 Out
FLAG 1328 -304 0
FLAG 1488 -512 Vlref
IOPIN 1488 -512 Out
FLAG 1488 -304 0
FLAG 1904 -272 V3.3
IOPIN 1904 -272 In
FLAG 1904 -96 0
FLAG 2432 -272 V3.3
IOPIN 2432 -272 In
FLAG 1792 -192 Vhref
IOPIN 1792 -192 In
FLAG 2352 -192 Vlref
IOPIN 2352 -192 In
FLAG 2432 -96 0
FLAG 2112 -176 RangeH
IOPIN 2112 -176 Out
FLAG 2624 -176 RangeL
IOPIN 2624 -176 Out
FLAG 1584 992 V3.3
IOPIN 1584 992 In
FLAG 1584 1024 0
FLAG 1120 736 S1
IOPIN 1120 736 Out
FLAG 1792 960 S2
IOPIN 1792 960 Out
FLAG 1264 1008 RangeL
IOPIN 1264 1008 In
FLAG 1584 960 RangeH
IOPIN 1584 960 In
FLAG 1264 976 RL&RH
IOPIN 1264 976 Out
FLAG 1264 1152 RL|RH
IOPIN 1264 1152 Out
FLAG 1568 528 RL|RH
IOPIN 1568 528 In
FLAG 1568 736 RL&RH
IOPIN 1568 736 In
FLAG 1248 800 S2
IOPIN 1248 800 In
FLAG 2208 720 RL&RH
IOPIN 2208 720 In
FLAG 1872 768 S1
IOPIN 1872 768 In
FLAG 2208 512 RL|RH
IOPIN 2208 512 In
FLAG 1872 560 S2
IOPIN 1872 560 Out
FLAG 2208 976 V3.3
IOPIN 2208 976 In
FLAG 2208 1008 0
FLAG 128 672 S2
IOPIN 128 672 In
FLAG 96 192 S1
IOPIN 96 192 In
FLAG 128 608 V3.3
IOPIN 128 608 In
DATAFLAG 512 -352 "V(adin1)-V(adin2)"
DATAFLAG 832 608 "I(R4)"
DATAFLAG 832 560 "V(adin2)"
DATAFLAG 768 -336 "-I(R3)"
DATAFLAG 784 -80 "-I(R1)"
DATAFLAG 784 320 "-I(R2)"
DATAFLAG 496 304 "V(n003)-V(adin2)"
DATAFLAG 512 -96 "V(n001)-V(adin2)"
DATAFLAG 272 304 "V(adin1)-V(n003)"
DATAFLAG 272 -96 "V(adin1)-V(n001)"
DATAFLAG 352 416 "(V(adin1)-V(n005))/-I(R2)"
DATAFLAG 336 16 "(V(adin1)-V(n001))/-I(R1)"
DATAFLAG 320 144 "-I(R5)"
DATAFLAG 320 592 "-I(R6)"
DATAFLAG 1712 -64 ""
DATAFLAG 2016 -176 ""
DATAFLAG 2544 -176 ""
SYMBOL voltage -304 512 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vtarget
SYMATTR Value 3.3
SYMBOL pmos 304 -16 M270
WINDOW 0 32 2 VLeft 2
WINDOW 3 34 200 VLeft 2
SYMATTR InstName M1
SYMATTR Value Si4913DY
SYMBOL res 560 -80 R90
WINDOW 0 47 -8 VBottom 2
WINDOW 3 58 54 VTop 2
SYMATTR InstName R1
SYMATTR Value 10
SYMBOL res 560 320 R90
WINDOW 0 44 -9 VBottom 2
WINDOW 3 47 61 VTop 2
SYMATTR InstName R2
SYMATTR Value 1
SYMBOL res 560 -336 R90
WINDOW 0 57 121 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 510
SYMBOL res 928 528 R0
SYMATTR InstName R4
SYMATTR Value 100
SYMBOL res 240 192 R180
WINDOW 0 45 81 Left 2
WINDOW 3 31 47 Left 2
SYMATTR InstName R5
SYMATTR Value 1Meg
SYMBOL res 256 640 R180
WINDOW 0 37 82 Left 2
WINDOW 3 37 52 Left 2
SYMATTR InstName R6
SYMATTR Value 1Meg
SYMBOL pmos 320 384 M270
WINDOW 0 32 2 VLeft 2
WINDOW 3 32 197 VLeft 2
SYMATTR InstName M2
SYMATTR Value Si4913DY
SYMBOL voltage 1168 -464 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vmain
SYMATTR Value 3.3
SYMBOL cap 1248 -112 R0
WINDOW 0 -15 54 Left 2
SYMATTR InstName C1
SYMATTR Value 10µ
SYMBOL LTC6752 1904 -240 R0
WINDOW 0 -48 -4 Left 2
WINDOW 3 -49 15 Left 2
SYMATTR InstName U2
SYMBOL LTC6752 2432 -240 R0
WINDOW 0 -36 -5 Left 2
WINDOW 3 -36 17 Left 2
SYMATTR InstName U3
SYMBOL voltage 1328 -464 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vhref
SYMATTR Value 2
SYMBOL voltage 1488 -464 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vlref
SYMATTR Value 0.1
SYMBOL AutoGenerated/MAX4173T 1424 -144 R0
SYMATTR InstName U4
SYMBOL AutoGenerated/SN74HC08 2032 752 R0
SYMATTR InstName U5
SYMBOL AutoGenerated/SN74HC32 1392 1168 R0
SYMATTR InstName U6
SYMBOL AutoGenerated/SN74HC08 1392 560 R0
SYMATTR InstName U7
SYMBOL AutoGenerated/SN74HC08 1392 992 R0
SYMATTR InstName U8
SYMBOL AutoGenerated/SN74HC08 2032 544 R0
SYMATTR InstName U9
SYMBOL AutoGenerated/SN74HC32 2032 976 R0
SYMATTR InstName U10
SYMBOL AutoGenerated/CD74HC4075 1392 768 R0
SYMATTR InstName U11
SYMBOL nmos 48 496 R270
WINDOW 0 64 2 VRight 2
WINDOW 3 64 42 VRight 2
SYMATTR InstName M3
SYMATTR Value Si4982DY
SYMBOL nmos 16 80 R270
WINDOW 0 69 3 VRight 2
WINDOW 3 68 53 VRight 2
SYMATTR InstName M4
SYMBOL res 144 608 R180
WINDOW 0 37 82 Left 2
WINDOW 3 37 52 Left 2
SYMATTR InstName R7
SYMATTR Value 1k
SYMBOL res 112 192 R180
WINDOW 0 37 82 Left 2
WINDOW 3 37 52 Left 2
SYMATTR InstName R8
SYMATTR Value 1k
TEXT -328 872 Left 2 !.model SW SW(Ron=.1 Roff=10Meg Vt=1.7 Vh=0 Lser=10n Vser=0)
TEXT -320 816 Left 2 !.tran 0 1 0 0.05
TEXT 1352 208 Left 2 ;S1 = S2 || (RangeL && RangeH) || (S1 && (RangeL || RangeH))\nS2 = (S1 && RangeL && RangeH) || (S2 && (RangeL || RangeH))
TEXT 1360 96 Left 2 ;08 2in &\ncd 3in |\n11 3in &\n32 2in |
